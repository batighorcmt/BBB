import{r as x,c as a,b as m,d as R,h as V,w as f,e as t,g as w,k as b,t as n,f as s,F as p,l as g,n as D,i as u,m as I,p as N}from"./app-OhMXp608.js";import{_ as B}from"./AuthenticatedLayout-HHUjhTf-.js";const z={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow mb-6 no-print"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end"},S={class:"flex space-x-2"},T={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg overflow-hidden"},U={class:"p-6 border-b border-gray-200 dark:border-gray-700 print-header"},O={class:"text-center text-gray-500 mt-1"},P={class:"overflow-x-auto"},j={key:0,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-xs"},q={class:"bg-gray-50 dark:bg-gray-700"},E={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700 uppercase"},W={class:"px-2 py-2 whitespace-nowrap dark:text-gray-300 font-bold sticky left-0 bg-white dark:bg-gray-800 z-10 border-r"},G={key:1,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},J={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},K={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 font-medium"},Q={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 font-medium"},X={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 text-center font-mono text-green-600 font-bold"},Y={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 text-center font-mono text-red-600 font-bold"},Z={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 text-center font-bold"},tt={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 text-center space-x-2 no-print"},et=["href"],rt={key:1,class:"text-gray-400"},at=["href"],st={key:3,class:"text-gray-400"},ot={class:"px-6 py-4 whitespace-nowrap dark:text-gray-300 text-center space-x-3 no-print"},nt=["onClick"],dt=["onClick"],lt={key:0},pt={__name:"Report",props:{attendances:Array,matrix:Array,daysInMonth:Number,filters:Object},setup(l){const y=l,i=x(y.filters.date||""),d=x(y.filters.month||""),v=x(!1),_=x(""),C=N(()=>{var o;return!!d.value&&((o=y.matrix)==null?void 0:o.length)>0}),h=()=>{I.get(route("attendance.reports"),{date:i.value,month:d.value},{preserveState:!0})},M=()=>{window.print()},k=o=>{o&&(_.value="/storage/"+o,v.value=!0)},$=o=>o||"--:--:--",L=o=>{if(!o)return"-";const r=Math.floor(o/60),e=o%60;return`${r}h ${e}m`};return(o,r)=>(s(),a(p,null,[m(R(V),{title:"Attendance Reports"}),m(B,null,{header:f(()=>[t("div",{class:"flex justify-between items-center no-print"},[r[3]||(r[3]=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Attendance Reports ",-1)),t("button",{onClick:M,class:"bg-gray-800 text-white px-4 py-2 rounded shadow hover:bg-gray-900"}," Print Report ")])]),default:f(()=>[t("div",z,[t("div",A,[t("div",F,[t("div",H,[t("div",null,[r[4]||(r[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Daily Report",-1)),w(t("input",{type:"date","onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,i.value]])]),t("div",null,[r[5]||(r[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Monthly Report",-1)),w(t("input",{type:"month","onUpdate:modelValue":r[1]||(r[1]=e=>d.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,d.value]])]),t("div",S,[t("button",{onClick:h,class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700"},"Filter"),t("button",{onClick:r[2]||(r[2]=e=>{i.value="",d.value="",h()}),class:"text-gray-600 hover:text-gray-900"},"Reset")])])]),t("div",T,[t("div",U,[r[6]||(r[6]=t("h1",{class:"text-2xl font-bold text-center dark:text-white"},"হাজিরা রিপোর্ট",-1)),t("p",O,n(i.value?"তারিখ: "+i.value:d.value?"মাস: "+d.value:"সকল রিপোর্ট"),1)]),t("div",P,[C.value?(s(),a("table",j,[t("thead",q,[t("tr",null,[r[7]||(r[7]=t("th",{class:"px-2 py-2 text-left font-medium text-gray-500 dark:text-gray-300 uppercase sticky left-0 bg-gray-50 dark:bg-gray-700 z-10"},"Employee",-1)),(s(!0),a(p,null,g(l.daysInMonth,e=>(s(),a("th",{key:e,class:"px-1 py-2 text-center font-medium text-gray-500 dark:text-gray-300"},n(e),1))),128))])]),t("tbody",E,[(s(!0),a(p,null,g(l.matrix,e=>(s(),a("tr",{key:e.employee.id},[t("td",W,n(e.employee.name),1),(s(!0),a(p,null,g(l.daysInMonth,c=>(s(),a("td",{key:c,class:D(["px-1 py-2 text-center border-r last:border-0",e.days[c].status==="P"?"text-green-600 font-bold":"text-red-400 opacity-50"])},n(e.days[c].status),3))),128))]))),128))])])):(s(),a("table",G,[r[12]||(r[12]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap"},"Staff Name (Code)"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap text-center"},"Check IN"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap text-center"},"Check OUT"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap text-center"},"Work Hours"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap text-center"},"Location"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap text-center"},"Photo")])],-1)),t("tbody",J,[(s(!0),a(p,null,g(l.attendances,e=>(s(),a("tr",{key:e.id},[t("td",K,n(new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1),t("td",Q,n(e.employee.name)+" ("+n(e.employee.employee_code)+") ",1),t("td",X,n(e.check_in),1),t("td",Y,n($(e.check_out)),1),t("td",Z,n(L(e.work_hours)),1),t("td",tt,[e.check_in_latitude?(s(),a("a",{key:0,href:`https://www.google.com/maps?q=${e.check_in_latitude},${e.check_in_longitude}`,target:"_blank",class:"text-blue-500 text-xs hover:underline"}," IN Link ",8,et)):(s(),a("span",rt,"-")),r[8]||(r[8]=t("span",{class:"text-gray-300"},"|",-1)),e.check_out_latitude?(s(),a("a",{key:2,href:`https://www.google.com/maps?q=${e.check_out_latitude},${e.check_out_longitude}`,target:"_blank",class:"text-red-500 text-xs hover:underline"}," OUT Link ",8,at)):(s(),a("span",st,"-"))]),t("td",ot,[e.check_in_photo?(s(),a("button",{key:0,onClick:c=>k(e.check_in_photo),class:"text-blue-500 hover:text-blue-700"},[...r[9]||(r[9]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,nt)):u("",!0),e.check_out_photo?(s(),a("button",{key:1,onClick:c=>k(e.check_out_photo),class:"text-red-500 hover:text-red-700"},[...r[10]||(r[10]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,dt)):u("",!0)])]))),128)),l.attendances.length===0?(s(),a("tr",lt,[...r[11]||(r[11]=[t("td",{colspan:"7",class:"px-6 py-10 text-center text-gray-500 dark:text-gray-400"},"কোনো হাজিরা পাওয়া যায়নি।",-1)])])):u("",!0)])]))])])])])]),_:1})],64))}};export{pt as default};
