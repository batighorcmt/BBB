import{u as S,N as C,c as i,b as u,d as o,h as V,w as x,e,z as E,g as p,k as b,f as a,t as m,i as N,F as y,l as h,p as j,j as M}from"./app-CV5OePXJ.js";import{_ as R}from"./AuthenticatedLayout-73GYwnhN.js";const U={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},A={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900 dark:text-gray-100"},L={class:"mb-6"},O={key:0,class:"text-red-500 text-xs mt-1"},G={class:"mb-6"},T={class:"mb-6"},$={class:"border rounded-md overflow-hidden"},q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},H={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},I={class:"px-6 py-4 whitespace-nowrap"},J={class:"inline-flex items-center"},K=["checked","onChange"],P={class:"px-6 py-4"},Q={class:"grid grid-cols-2 gap-2"},W=["value"],X={class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},Y={class:"flex items-center justify-end"},Z=["disabled"],se={__name:"Edit",props:{role:Object,permissions:Object,rolePermissions:Array},setup(g){const n=g,s=S({name:n.role.name,description:n.role.description,permissions:n.rolePermissions}),k=(l,t)=>{t.every(r=>s.permissions.includes(r.name))?t.forEach(r=>{const d=s.permissions.indexOf(r.name);d!==-1&&s.permissions.splice(d,1)}):t.forEach(r=>{s.permissions.includes(r.name)||s.permissions.push(r.name)})},_=l=>l.every(t=>s.permissions.includes(t.name)),v=()=>{s.put(route("roles.update",n.role.id))};return(l,t)=>{const f=C("Link");return a(),i(y,null,[u(o(V),{title:"Edit Role"}),u(R,null,{header:x(()=>[e("h2",U,"Edit Role: "+m(g.role.name),1)]),default:x(()=>[e("div",A,[e("div",B,[e("div",D,[e("div",F,[e("form",{onSubmit:E(v,["prevent"])},[e("div",L,[t[3]||(t[3]=e("label",{class:"block font-medium text-sm text-gray-700 dark:text-gray-300"},"Role Name *",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o(s).name=r),type:"text",class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm mt-1 block w-full",required:""},null,512),[[b,o(s).name]]),o(s).errors.name?(a(),i("div",O,m(o(s).errors.name),1)):N("",!0)]),e("div",G,[t[4]||(t[4]=e("label",{class:"block font-medium text-sm text-gray-700 dark:text-gray-300"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=r=>o(s).description=r),class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm mt-1 block w-full"},null,512),[[b,o(s).description]])]),e("div",T,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium mb-4"},"Permissions",-1)),e("div",$,[e("table",q,[t[6]||(t[6]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-1/4"},"Module"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-1/4"},"Select All"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Specific Permissions")])],-1)),e("tbody",z,[(a(!0),i(y,null,h(g.permissions,(r,d)=>(a(),i("tr",{key:d},[e("td",H,m(d),1),e("td",I,[e("label",J,[e("input",{type:"checkbox",checked:_(r),onChange:c=>k(d,r),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,40,K),t[5]||(t[5]=e("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"Select All",-1))])]),e("td",P,[e("div",Q,[(a(!0),i(y,null,h(r,c=>(a(),i("label",{key:c.id,class:"inline-flex items-center"},[p(e("input",{type:"checkbox",value:c.name,"onUpdate:modelValue":t[2]||(t[2]=w=>o(s).permissions=w),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,W),[[j,o(s).permissions]]),e("span",X,m(c.name),1)]))),128))])])]))),128))])])])]),e("div",Y,[u(f,{href:l.route("roles.index"),class:"text-gray-600 hover:text-gray-900 mr-4"},{default:x(()=>[...t[8]||(t[8]=[M("Cancel",-1)])]),_:1},8,["href"]),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:o(s).processing}," Update Role ",8,Z)])],32)])])])])]),_:1})],64)}}};export{se as default};
