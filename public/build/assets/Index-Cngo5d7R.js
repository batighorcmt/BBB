import{r as C,B,m as u,c as d,b as g,d as p,h as S,w as m,e as t,g as N,k as T,f as n,F as x,l as f,t as a,n as h,i as y,j as i,y as j,s as L}from"./app-BGripyAl.js";import{_ as R}from"./AuthenticatedLayout-u-dhrov9.js";import{l as V}from"./lodash-CcjvHB9E.js";import{S as w}from"./sweetalert2.esm.all-BoFtKDfH.js";const M={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900 dark:text-gray-100"},A={class:"flex justify-between mb-6"},Y={class:"relative"},z={class:"overflow-x-auto border rounded-md"},D={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},E={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},F={class:"px-6 py-4 whitespace-nowrap text-sm"},H={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},I={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap text-sm"},q={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},G={class:"px-6 py-4 whitespace-nowrap text-sm"},J=["onClick"],K={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Q=["onClick"],W={key:0},X={key:0,class:"mt-4 flex justify-between items-center"},Z={class:"text-sm text-gray-700 dark:text-gray-400"},tt={class:"font-medium"},et={class:"font-medium"},st={class:"font-medium"},rt={class:"flex space-x-1"},lt={__name:"Index",props:{users:Object,filters:Object},setup(o){const l=C(o.filters.search||"");B(l,V.debounce(r=>{u.get(route("users.index"),{search:r},{preserveState:!0,replace:!0})},300));const k=r=>{const e=r.status==="active"?"inactive":"active";w.fire({title:"Are you sure?",text:`You want to change status to ${e}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it!"}).then(s=>{s.isConfirmed&&u.patch(route("users.status",r.id),{status:e})})},b=r=>{w.fire({title:"Reset Password?",text:'Password will be set to "123456". This cannot be undone!',icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, reset it!"}).then(e=>{e.isConfirmed&&u.post(route("users.reset-password",r.id))})},v=r=>r.roles&&r.roles.length>0?r.roles[0].name:r.role;return(r,e)=>(n(),d(x,null,[g(p(S),{title:"Users List"}),g(R,null,{header:m(()=>[...e[1]||(e[1]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Users List",-1)])]),default:m(()=>[t("div",M,[t("div",P,[t("div",U,[t("div",$,[t("div",A,[t("div",Y,[N(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),type:"text",placeholder:"Search users...",class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm pl-10 pr-4 py-2"},null,512),[[T,l.value]]),e[2]||(e[2]=t("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",z,[t("table",D,[e[4]||(e[4]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"#"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Username"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Name"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Role"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Reset Password"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",E,[(n(!0),d(x,null,f(o.users.data,(s,c)=>(n(),d("tr",{key:s.id},[t("td",F,a(c+1),1),t("td",H,a(s.username),1),t("td",I,a(s.name),1),t("td",O,[t("span",q,a(v(s)),1)]),t("td",G,[t("button",{onClick:_=>b(s),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300 font-medium"},"Reset",8,J)]),t("td",K,[t("button",{onClick:_=>k(s),class:h(["px-3 py-1 rounded-full text-xs font-semibold",s.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900 dark:text-red-200"])},a(s.status==="active"?"Active":"Inactive"),11,Q)])]))),128)),o.users.data.length===0?(n(),d("tr",W,[...e[3]||(e[3]=[t("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"},"No users found.",-1)])])):y("",!0)])])]),o.users.links.length>3?(n(),d("div",X,[t("div",null,[t("span",Z,[e[5]||(e[5]=i(" Showing ",-1)),t("span",tt,a(o.users.from),1),e[6]||(e[6]=i(" to ",-1)),t("span",et,a(o.users.to),1),e[7]||(e[7]=i(" of ",-1)),t("span",st,a(o.users.total),1),e[8]||(e[8]=i(" results ",-1))])]),t("div",rt,[(n(!0),d(x,null,f(o.users.links,(s,c)=>(n(),j(p(L),{key:c,href:s.url,innerHTML:s.label,class:h(["px-3 py-1 border rounded text-sm",s.active?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",s.url?"":"opacity-50 cursor-not-allowed"]),"preserve-scroll":!0},null,8,["href","innerHTML","class"]))),128))])])):y("",!0)])])])])]),_:1})],64))}};export{lt as default};
