import{r as v,B as _,m,c as o,b as l,d as n,h as C,w as c,e,s as g,j as x,g as j,k as S,f as s,F as p,l as f,n as u,t as a,i as h,y as B}from"./app-BGripyAl.js";import{_ as L}from"./AuthenticatedLayout-u-dhrov9.js";import{l as D}from"./lodash-CcjvHB9E.js";import{S as w}from"./sweetalert2.esm.all-BoFtKDfH.js";const M={class:"py-12"},V={class:"w-full mx-auto sm:px-6 lg:px-8"},A={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6 text-gray-900 dark:text-gray-100"},T={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},H={class:"flex space-x-2"},E={class:"flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600"},F={class:"flex items-center space-x-2 w-full md:w-auto"},z={class:"overflow-x-auto md:overflow-visible shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},I={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},P={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},O={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700"},R={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},U={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},Y={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},$={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},q={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},G={key:0,class:"px-2 py-1 bg-gray-200 rounded text-xs text-gray-700 font-bold"},J={key:1},K={key:0,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 shadow-inner font-bold text-red-600 bg-red-50"},Q={key:1,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},W={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700 text-center"},X={class:"px-4 py-3 whitespace-nowrap text-center text-sm font-medium"},Z={class:"relative inline-block text-left group"},ee={class:"origin-top-right absolute right-0 mt-0 pt-2 w-48 z-50 hidden group-hover:block hover:block"},te={class:"rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},re=["onClick"],se={key:0},oe={class:"mt-4 flex flex-col md:flex-row justify-between items-center"},ae={class:"text-sm text-gray-700 dark:text-gray-400 mb-4 md:mb-0"},de={key:0,class:"flex justify-center"},ie=["innerHTML"],ye={__name:"Index",props:{customers:Object,filters:Object},setup(d){const y=v(d.filters.search||"");_(y,D.throttle(i=>{m.get(route("customers.index"),{search:i},{preserveState:!0,replace:!0})},300));const k=i=>{w.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&m.delete(route("customers.destroy",i),{preserveScroll:!0,onSuccess:()=>{w.fire("Deleted!","Customer has been deleted.","success")}})})};return(i,t)=>(s(),o(p,null,[l(n(C),{title:"Customers"}),l(L,null,{header:c(()=>[...t[1]||(t[1]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Customers List"),e("div",{class:"text-sm text-gray-500"},"Home > Import Customers > Customers List")],-1)])]),default:c(()=>[e("div",M,[e("div",V,[e("div",A,[e("div",N,[e("div",T,[t[3]||(t[3]=e("div",{class:"flex items-center space-x-4"},[e("label",{class:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400"},[e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),e("span",null,"View Account Receivable Customers")])],-1)),e("div",H,[l(n(g),{href:i.route("customers.create"),class:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center transition"},{default:c(()=>[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Create Customer ",-1)])]),_:1},8,["href"])])]),e("div",E,[t[5]||(t[5]=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Show"),e("select",{class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm dark:bg-gray-800 dark:text-white"},[e("option",null,"10"),e("option",null,"25"),e("option",null,"50"),e("option",null,"100")]),e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"entries")],-1)),t[6]||(t[6]=e("div",{class:"flex flex-wrap gap-2 justify-center md:justify-end"},[e("button",{class:"px-3 py-1 bg-teal-500 text-white text-xs rounded hover:bg-teal-600"},"Copy"),e("button",{class:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600"},"Excel"),e("button",{class:"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600"},"PDF"),e("button",{class:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600"},"Print"),e("button",{class:"px-3 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600"},"CSV"),e("button",{class:"px-3 py-1 bg-indigo-500 text-white text-xs rounded hover:bg-indigo-600"},"Columns")],-1)),e("div",F,[t[4]||(t[4]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Search:",-1)),j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),type:"text",class:"w-full md:w-48 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm dark:bg-gray-800 dark:text-white",placeholder:""},null,512),[[S,y.value]])])]),e("div",z,[e("table",I,[t[14]||(t[14]=e("thead",{class:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},[e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Customer ID"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Customer Name"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Mobile"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Email"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Location"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Credit Limit"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Previous Due"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Sales Return Due(+)"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Advance"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Status"),e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Action")])],-1)),e("tbody",P,[(s(!0),o(p,null,f(d.customers.data,(r,b)=>(s(),o("tr",{key:r.id,class:u([b%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50","hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-150"])},[t[10]||(t[10]=e("td",{class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700"},[e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})],-1)),e("td",O,a(r.customer_code),1),e("td",R,a(r.name),1),e("td",U,a(r.phone),1),e("td",Y,a(r.email),1),e("td",$,a(r.city||"-"),1),e("td",q,[!r.credit_limit||r.credit_limit==0?(s(),o("span",G,"No Limit")):(s(),o("span",J,a(r.credit_limit),1))]),parseFloat(r.current_balance)>0?(s(),o("td",K,a(r.current_balance),1)):(s(),o("td",Q,a(r.current_balance||"0.00"),1)),t[11]||(t[11]=e("td",{class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},"0.00",-1)),t[12]||(t[12]=e("td",{class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700"},"0.00",-1)),e("td",W,[e("span",{class:u({"px-2 py-1 text-xs font-bold text-white rounded":!0,"bg-green-500":r.status==="active","bg-red-500":r.status==="inactive"})},a(r.status.charAt(0).toUpperCase()+r.status.slice(1)),3)]),e("td",X,[e("div",Z,[t[9]||(t[9]=e("button",{class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-[#00334e] rounded-md hover:bg-[#00283d] focus:outline-none"},[x(" Action "),e("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),e("div",ee,[e("div",te,[l(n(g),{href:i.route("customers.show",r.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},{default:c(()=>[...t[7]||(t[7]=[x("View Account",-1)])]),_:1},8,["href"]),l(n(g),{href:i.route("customers.edit",r.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},{default:c(()=>[...t[8]||(t[8]=[x("Edit",-1)])]),_:1},8,["href"]),e("button",{onClick:ne=>k(r.id),class:"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-gray-100 hover:text-red-900",role:"menuitem"},"Delete",8,re)])])])])],2))),128)),d.customers.data.length===0?(s(),o("tr",se,[...t[13]||(t[13]=[e("td",{colspan:"12",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"},"No customers found.",-1)])])):h("",!0)])])]),e("div",oe,[e("div",ae," Showing 1 to "+a(d.customers.data.length)+" of "+a(d.customers.total)+" entries ",1),d.customers.links.length>3?(s(),o("div",de,[(s(!0),o(p,null,f(d.customers.links,(r,b)=>(s(),o(p,{key:b},[r.url===null?(s(),o("div",{key:0,class:"mr-1 px-3 py-1 text-sm leading-4 text-gray-400 border rounded bg-white",innerHTML:r.label},null,8,ie)):(s(),B(n(g),{key:1,class:u([{"bg-blue-600 text-white border-blue-600":r.active,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":!r.active},"mr-1 px-3 py-1 text-sm leading-4 border rounded shadow-sm focus:border-indigo-500 focus:text-indigo-500"]),href:r.url,innerHTML:r.label},null,8,["class","href","innerHTML"]))],64))),128))])):h("",!0)])])])])])]),_:1})],64))}};export{ye as default};
