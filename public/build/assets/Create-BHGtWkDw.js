import{G as ot,h as nt,y as K,H as st,c as V,d as b,u as c,j as it,e as B,b as n,m as rt,o as C,f as j,t as _,k as L,F as R,q as at,w as x,p as w,n as lt,E as ut}from"./app-fI0kTJRg.js";import{_ as ct}from"./AuthenticatedLayout-oZkLplsW.js";import{_ as T}from"./InputLabel-DQy2iP6S.js";import{_ as Q}from"./TextInput-BNlBu6KO.js";import{P as dt}from"./PrimaryButton-WjNk_MwC.js";import{S as H}from"./sweetalert2.esm.all-BoFtKDfH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var I={exports:{}},pt=I.exports,J;function ht(){return J||(J=1,(function(E,$){(function(q,k){E.exports=k()})(typeof self<"u"?self:pt,(function(){return(()=>{var q={646:u=>{u.exports=function(l){if(Array.isArray(l)){for(var p=0,f=new Array(l.length);p<l.length;p++)f[p]=l[p];return f}}},713:u=>{u.exports=function(l,p,f){return p in l?Object.defineProperty(l,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[p]=f,l}},860:u=>{u.exports=function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}},206:u=>{u.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(u,l,p)=>{var f=p(646),O=p(860),A=p(206);u.exports=function(d){return f(d)||O(d)||A()}},8:u=>{function l(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u.exports=l=function(f){return typeof f}:u.exports=l=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(p)}u.exports=l}},k={};function g(u){var l=k[u];if(l!==void 0)return l.exports;var p=k[u]={exports:{}};return q[u](p,p.exports,g),p.exports}g.n=u=>{var l=u&&u.__esModule?()=>u.default:()=>u;return g.d(l,{a:l}),l},g.d=(u,l)=>{for(var p in l)g.o(l,p)&&!g.o(u,p)&&Object.defineProperty(u,p,{enumerable:!0,get:l[p]})},g.o=(u,l)=>Object.prototype.hasOwnProperty.call(u,l),g.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var r={};return(()=>{g.r(r),g.d(r,{VueSelect:()=>N,default:()=>tt,mixins:()=>Z});var u=g(319),l=g.n(u),p=g(8),f=g.n(p),O=g(713),A=g.n(O);const d={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(t){var e=this;this.autoscroll&&t&&this.$nextTick((function(){return e.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var t,e=((t=this.$refs.dropdownMenu)===null||t===void 0?void 0:t.children[this.typeAheadPointer])||!1;if(e){var o=this.getDropdownViewport(),s=e.getBoundingClientRect(),h=s.top,y=s.bottom,F=s.height;if(h<o.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(y>o.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(o.height-F)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},i={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open:function(t){t&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected:function(){var t=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1;t!==-1&&(this.typeAheadPointer=t)}}},v={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.mutableLoading=t??!this.mutableLoading}}};function a(t,e,o,s,h,y,F,z){var U,P=typeof t=="function"?t.options:t;return e&&(P.render=e,P.staticRenderFns=o,P._compiled=!0),{exports:t,options:P}}const S={Deselect:a({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[]).exports,OpenIndicator:a({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[]).exports},m={inserted:function(t,e,o){var s=o.context;if(s.appendToBody){var h=s.$refs.toggle.getBoundingClientRect(),y=h.height,F=h.top,z=h.left,U=h.width,P=window.scrollX||window.pageXOffset,et=window.scrollY||window.pageYOffset;t.unbindPosition=s.calculatePosition(t,s,{width:U+"px",left:P+z+"px",top:et+F+y+"px"}),document.body.appendChild(t)}},unbind:function(t,e,o){o.context.appendToBody&&(t.unbindPosition&&typeof t.unbindPosition=="function"&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}},G=function(t){var e={};return Object.keys(t).sort().forEach((function(o){e[o]=t[o]})),JSON.stringify(e)};var X=0;const W=function(){return++X};function M(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(h){return Object.getOwnPropertyDescriptor(t,h).enumerable}))),o.push.apply(o,s)}return o}function D(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?M(Object(o),!0).forEach((function(s){A()(t,s,o[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))}))}return t}const N=a({components:D({},S),directives:{appendToBody:m},mixins:[d,i,v],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return f()(t)==="object"?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),`.
`)+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if(f()(t)!=="object")return t;try{return t.hasOwnProperty("id")?t.id:G(t)}catch(e){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,o){return(e||"").toLocaleLowerCase().indexOf(o.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(t,e){var o=this;return t.filter((function(s){var h=o.getOptionLabel(s);return typeof h=="number"&&(h=h.toString()),o.filterBy(s,h,e)}))}},createOption:{type:Function,default:function(t){return f()(this.optionList[0])==="object"?A()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return["function","boolean"].includes(f()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,o=t.multiple;return e&&!o}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,o){var s=o.width,h=o.top,y=o.left;t.style.top=h,t.style.left=y,t.style.width=s}},dropdownShouldOpen:{type:Function,default:function(t){var e=t.noDrop,o=t.open,s=t.mutableLoading;return!e&&o&&!s}},uid:{type:[String,Number],default:function(){return W()}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return this.value===void 0||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t!=null&&t!==""?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:D({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,keypress:this.onSearchKeyPress,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(o){return t.search=o.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:D({},e,{deselect:this.deselect}),footer:D({},e,{deselect:this.deselect})}},childComponents:function(){return D({},S,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var o=this.createOption(this.search);this.optionExists(o)||e.unshift(o)}return e},isValueEmpty:function(){return this.selectedValue.length===0},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(t,e){var o=this;!this.taggable&&(typeof o.resetOnOptionsChange=="function"?o.resetOnOptionsChange(t,e,o.selectedValue):o.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?"open":"close")},search:function(t){t.length&&(this.open=!0)}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(o){return e.findOptionFromReducedValue(o)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&this.$emit("option:created",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter((function(o){return!e.optionComparator(o,t)}))),this.$emit("option:deselected",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){var e=this;this.closeOnSelect&&(this.open=!this.open),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick((function(){return e.$refs.search.focus()}))},updateValue:function(t){var e=this;this.value===void 0&&(this.$data._value=t),t!==null&&(t=Array.isArray(t)?t.map((function(o){return e.reduce(o)})):this.reduce(t)),this.$emit("input",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var o=[].concat(l()(this.$refs.deselectButtons||[]),l()([this.$refs.clearButton]));this.searchEl===void 0||o.filter(Boolean).some((function(s){return s.contains(t.target)||s===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(o){return e.optionComparator(o,t)}))},isOptionDeselectable:function(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,o=[].concat(l()(this.options),l()(this.pushedTags)).filter((function(s){return JSON.stringify(e.reduce(s))===JSON.stringify(t)}));return o.length===1?o[0]:o.find((function(s){return e.optionComparator(s,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=l()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(o){return e.optionComparator(o,t)}))},normalizeOptionForSlot:function(t){return f()(t)==="object"?t:A()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search="":this.open=!1},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,this.search.length!==0||this.options.length!==0||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,o=function(y){return y.preventDefault(),!e.isComposing&&e.typeAheadSelect()},s={8:function(y){return e.maybeDeleteValue()},9:function(y){return e.onTab()},27:function(y){return e.onEscape()},38:function(y){if(y.preventDefault(),e.open)return e.typeAheadUp();e.open=!0},40:function(y){if(y.preventDefault(),e.open)return e.typeAheadDown();e.open=!0}};this.selectOnKeyCodes.forEach((function(y){return s[y]=o}));var h=this.mapKeydown(s,this);if(typeof h[t.keyCode]=="function")return h[t.keyCode](t)},onSearchKeyPress:function(t){this.open||t.keyCode!==32||(t.preventDefault(),this.open=!0)}}},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[t._t("header",null,null,t.scope.header),t._v(" "),o("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+t.uid+"__combobox",role:"combobox","aria-expanded":t.dropdownOpen.toString(),"aria-owns":"vs"+t.uid+"__listbox","aria-controls":"vs"+t.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(s){return t.toggleDropdown(s)}}},[o("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,(function(s){return t._t("selected-option-container",[o("span",{key:t.getOptionKey(s),staticClass:"vs__selected"},[t._t("selected-option",[t._v(`
            `+t._s(t.getOptionLabel(s))+`
          `)],null,t.normalizeOptionForSlot(s)),t._v(" "),t.multiple?o("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button",title:"Deselect "+t.getOptionLabel(s),"aria-label":"Deselect "+t.getOptionLabel(s)},on:{click:function(h){return t.deselect(s)}}},[o(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(s),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(" "),t._t("search",[o("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),o("div",{ref:"actions",staticClass:"vs__actions"},[o("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:t.clearSelection}},[o(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():o(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),o("transition",{attrs:{name:t.transition}},[t.dropdownOpen?o("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+t.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+t.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(s){return s.preventDefault(),t.onMousedown(s)},mouseup:t.onMouseUp}},[t._t("list-header",null,null,t.scope.listHeader),t._v(" "),t._l(t.filteredOptions,(function(s,h){return o("li",{key:t.getOptionKey(s),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":t.isOptionDeselectable(s)&&h===t.typeAheadPointer,"vs__dropdown-option--selected":t.isOptionSelected(s),"vs__dropdown-option--highlight":h===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(s)},attrs:{id:"vs"+t.uid+"__option-"+h,role:"option","aria-selected":h===t.typeAheadPointer||null},on:{mouseover:function(y){t.selectable(s)&&(t.typeAheadPointer=h)},click:function(y){y.preventDefault(),y.stopPropagation(),t.selectable(s)&&t.select(s)}}},[t._t("option",[t._v(`
          `+t._s(t.getOptionLabel(s))+`
        `)],null,t.normalizeOptionForSlot(s))],2)})),t._v(" "),t.filteredOptions.length===0?o("li",{staticClass:"vs__no-options"},[t._t("no-options",[t._v(`
          Sorry, no matching options.
        `)],null,t.scope.noOptions)],2):t._e(),t._v(" "),t._t("list-footer",null,null,t.scope.listFooter)],2):o("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+t.uid+"__listbox",role:"listbox"}})]),t._v(" "),t._t("footer",null,null,t.scope.footer)],2)}),[]).exports,Z={ajax:v,pointer:i,pointerScroll:d},tt=N})(),r})()}))})(I)),I.exports}var ft=ht();const Y=ot(ft),mt={class:"py-12"},yt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},gt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},vt={class:"p-6 text-gray-900 dark:text-gray-100"},bt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},_t={key:0},xt={key:0,class:"text-red-500 text-xs mt-1"},wt={key:0,class:"text-red-500 text-xs mt-1"},Ot={key:0,class:"text-red-500 text-xs mt-1"},St={class:"overflow-x-auto mb-6"},Vt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ct={class:"px-2 py-2 min-w-[250px]"},kt={class:"px-2 py-2 text-center"},At=["onUpdate:modelValue"],Pt={class:"px-2 py-2 text-center"},Bt=["onUpdate:modelValue"],Dt={class:"px-2 py-2 text-center"},Lt=["onUpdate:modelValue"],$t={class:"px-2 py-2 text-center"},Ft=["onUpdate:modelValue"],jt={class:"px-2 py-2 text-center"},Tt=["onUpdate:modelValue","onInput"],It={class:"px-2 py-2 text-center"},Et=["onUpdate:modelValue","readonly","onInput"],qt={class:"px-2 py-2 text-center font-semibold"},Ut={class:"px-2 py-2"},Mt=["onClick"],Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-4"},zt={class:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md"},Kt={class:"flex justify-between mb-2"},Rt={class:"flex justify-between mb-2 items-center"},Qt={class:"flex justify-between mb-2 items-center"},Ht={class:"flex justify-between mb-4 text-lg font-bold border-t pt-2"},Jt={class:"flex justify-between mb-2 items-center"},Yt={class:"mt-6 flex justify-end"},ne={__name:"Create",props:{customers:Array,items:Array},setup(E){const $=E,k=ut().props.auth.user,g=k.roles.some(d=>d.name==="customer"),r=nt({customer_id:g&&k.customer_id||"",quotation_date:new Date().toISOString().substr(0,10),valid_until:"",items:[{item_id:"",description:"",size:"",color:"",gsm:"",print_color:"",print_side:"",quantity:1,unit_price:0,total:0}],subtotal:0,discount:0,other_charges:0,advance_amount:0,grand_total:0,notes:"",terms_conditions:""}),u=()=>{r.items.push({item_id:"",description:"",size:"",color:"",gsm:"",print_color:"",print_side:"",quantity:1,unit_price:0,total:0})},l=d=>{H.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, remove it!"}).then(i=>{i.isConfirmed&&(r.items.splice(d,1),O(),H.fire("Removed!","Item has been removed.","success"))})},p=d=>{const i=r.items[d].item_id,v=$.items.find(a=>a.id===i);v&&(r.items[d].description=v.name,r.items[d].unit_price=v.price,r.items[d].size=v.size||"",r.items[d].color=v.fabric_color||"",r.items[d].gsm=v.gsm||"",r.items[d].print_color=v.print_color_count||"",r.items[d].print_side=v.print_sides||"",f(d))},f=d=>{const i=r.items[d];i.total=(i.quantity*i.unit_price).toFixed(2),O()},O=()=>{let d=0;r.items.forEach(a=>{d+=parseFloat(a.total)||0}),r.subtotal=d.toFixed(2);const i=parseFloat(r.other_charges)||0,v=parseFloat(r.discount)||0;r.grand_total=(d+i-v).toFixed(2)};K(()=>r.items,d=>{d.forEach((i,v)=>{const a=(i.quantity*i.unit_price).toFixed(2);a!==i.total&&(i.total=a,O())}),O()},{deep:!0}),K(()=>[r.other_charges,r.discount],()=>{O()});const A=()=>{r.post(route("quotations.store"))};return(d,i)=>{const v=st("Link");return C(),V(R,null,[b(c(it),{title:"Create Quotation"}),b(ct,null,{header:B(()=>[...i[7]||(i[7]=[n("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Create Quotation",-1)])]),default:B(()=>[n("div",mt,[n("div",yt,[n("div",gt,[n("div",vt,[n("form",{onSubmit:rt(A,["prevent"])},[n("div",bt,[c(g)?L("",!0):(C(),V("div",_t,[b(T,{for:"customer_id",value:"Customer"}),b(c(Y),{id:"customer_id",modelValue:c(r).customer_id,"onUpdate:modelValue":i[0]||(i[0]=a=>c(r).customer_id=a),options:$.customers,reduce:a=>a.id,label:"name",placeholder:"Select Customer",class:"mt-1 block w-full vue-select-custom",required:""},{option:B(a=>[j(_(a.name)+" ("+_(a.phone)+") ",1)]),_:1},8,["modelValue","options","reduce"]),c(r).errors.customer_id?(C(),V("div",xt,_(c(r).errors.customer_id),1)):L("",!0)])),n("div",null,[b(T,{for:"quotation_date",value:"Date"}),b(Q,{id:"quotation_date",type:"date",class:"mt-1 block w-full",modelValue:c(r).quotation_date,"onUpdate:modelValue":i[1]||(i[1]=a=>c(r).quotation_date=a),required:""},null,8,["modelValue"]),c(r).errors.quotation_date?(C(),V("div",wt,_(c(r).errors.quotation_date),1)):L("",!0)]),n("div",null,[b(T,{for:"valid_until",value:"Valid Until"}),b(Q,{id:"valid_until",type:"date",class:"mt-1 block w-full",modelValue:c(r).valid_until,"onUpdate:modelValue":i[2]||(i[2]=a=>c(r).valid_until=a)},null,8,["modelValue"]),c(r).errors.valid_until?(C(),V("div",Ot,_(c(r).errors.valid_until),1)):L("",!0)])]),n("div",St,[n("table",Vt,[i[9]||(i[9]=n("thead",null,[n("tr",null,[n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Item"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Size"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Color"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"GSM"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Print Color"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Qty"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Rate"),n("th",{class:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase"},"Total"),n("th")])],-1)),n("tbody",null,[(C(!0),V(R,null,at(c(r).items,(a,S)=>(C(),V("tr",{key:S},[n("td",Ct,[b(c(Y),{modelValue:a.item_id,"onUpdate:modelValue":[m=>a.item_id=m,m=>p(S)],options:$.items,reduce:m=>m.id,label:"name",placeholder:"Select Item",class:"text-sm vue-select-custom",required:""},{option:B(m=>[j(_(m.name)+" - "+_(m.code),1)]),_:1},8,["modelValue","onUpdate:modelValue","options","reduce"])]),n("td",kt,[x(n("input",{"onUpdate:modelValue":m=>a.size=m,type:"text",class:"w-20 border-gray-300 rounded-md text-sm p-1 text-center"},null,8,At),[[w,a.size]])]),n("td",Pt,[x(n("input",{"onUpdate:modelValue":m=>a.color=m,type:"text",class:"w-20 border-gray-300 rounded-md text-sm p-1 text-center"},null,8,Bt),[[w,a.color]])]),n("td",Dt,[x(n("input",{"onUpdate:modelValue":m=>a.gsm=m,type:"text",class:"w-16 border-gray-300 rounded-md text-sm p-1 text-center"},null,8,Lt),[[w,a.gsm]])]),n("td",$t,[x(n("input",{"onUpdate:modelValue":m=>a.print_color=m,type:"text",class:"w-20 border-gray-300 rounded-md text-sm p-1 text-center"},null,8,Ft),[[w,a.print_color]])]),n("td",jt,[x(n("input",{"onUpdate:modelValue":m=>a.quantity=m,type:"number",min:"1",class:"w-20 border-gray-300 rounded-md text-sm p-1 text-center",required:"",onInput:m=>f(S)},null,40,Tt),[[w,a.quantity]])]),n("td",It,[x(n("input",{"onUpdate:modelValue":m=>a.unit_price=m,type:"number",step:"0.01",min:"0",class:"w-24 border-gray-300 rounded-md text-sm p-1 text-center",readonly:c(g),onInput:m=>f(S),required:""},null,40,Et),[[w,a.unit_price]])]),n("td",qt,_(a.total),1),n("td",Ut,[c(r).items.length>1?(C(),V("button",{key:0,type:"button",onClick:m=>l(S),class:"text-red-500 hover:text-red-700"},[...i[8]||(i[8]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Mt)):L("",!0)])]))),128))])]),n("button",{type:"button",onClick:u,class:"mt-2 text-indigo-600 hover:text-indigo-900 text-sm font-medium flex items-center"}," + Add Another Item ")]),n("div",Nt,[n("div",null,[b(T,{for:"notes",value:"Notes"}),x(n("textarea",{id:"notes","onUpdate:modelValue":i[3]||(i[3]=a=>c(r).notes=a),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[w,c(r).notes]])]),n("div",zt,[n("div",Kt,[i[10]||(i[10]=n("span",{class:"font-medium"},"Subtotal:",-1)),n("span",null,_(c(r).subtotal),1)]),n("div",Rt,[i[11]||(i[11]=n("span",{class:"text-sm"},"Other Charges:",-1)),x(n("input",{"onUpdate:modelValue":i[4]||(i[4]=a=>c(r).other_charges=a),type:"number",step:"0.01",class:"w-24 border-gray-300 rounded-md text-sm p-1 text-right"},null,512),[[w,c(r).other_charges]])]),n("div",Qt,[i[12]||(i[12]=n("span",{class:"text-sm"},"Discount:",-1)),x(n("input",{"onUpdate:modelValue":i[5]||(i[5]=a=>c(r).discount=a),type:"number",step:"0.01",class:"w-24 border-gray-300 rounded-md text-sm p-1 text-right"},null,512),[[w,c(r).discount]])]),n("div",Ht,[i[13]||(i[13]=n("span",null,"Grand Total:",-1)),n("span",null,_(c(r).grand_total),1)]),n("div",Jt,[i[14]||(i[14]=n("span",{class:"text-sm font-medium text-green-700"},"Advance Payment:",-1)),x(n("input",{"onUpdate:modelValue":i[6]||(i[6]=a=>c(r).advance_amount=a),type:"number",step:"0.01",class:"w-24 border-green-300 rounded-md text-sm p-1 text-right focus:ring-green-500"},null,512),[[w,c(r).advance_amount]])])])]),n("div",Yt,[b(v,{href:d.route("quotations.index"),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md mr-2 hover:bg-gray-300"},{default:B(()=>[...i[15]||(i[15]=[j("Cancel",-1)])]),_:1},8,["href"]),b(dt,{class:lt({"opacity-25":c(r).processing}),disabled:c(r).processing},{default:B(()=>[...i[16]||(i[16]=[j(" Create Quotation ",-1)])]),_:1},8,["class","disabled"])])],32)])])])])]),_:1})],64)}}};export{ne as default};
