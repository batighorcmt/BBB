import{r as M,B as T,m,c as d,b as i,d as l,h as D,w as u,e,s as g,j as x,g as q,k as H,f as a,F as b,l as B,n as p,t as n,i as S,y as N}from"./app-OhMXp608.js";import{_ as V}from"./AuthenticatedLayout-HHUjhTf-.js";import{l as E}from"./lodash-C0KfMRFs.js";import{S as y}from"./sweetalert2.esm.all-BoFtKDfH.js";const z={class:"py-12"},A={class:"w-full mx-auto sm:px-6 lg:px-8"},F={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},I={class:"p-6 text-gray-900 dark:text-gray-100"},O={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},U={class:"flex space-x-2"},Y={class:"flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600"},$={class:"flex items-center space-x-2 w-full md:w-auto"},Q={class:"overflow-x-auto md:overflow-visible shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},W={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},G={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},J={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},K={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"},R={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"},X={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-bold"},Z={class:"px-4 py-3 whitespace-nowrap text-sm border-r border-gray-200 dark:border-gray-700"},ee=["value","onChange"],te={class:"px-4 py-3 whitespace-nowrap text-center text-sm font-medium"},re={class:"relative inline-block text-left group"},oe={class:"origin-top-right absolute right-0 mt-0 pt-2 w-48 z-50 hidden group-hover:block hover:block"},se={class:"rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 py-1"},ae=["onClick"],de={key:0},ne={class:"mt-4 flex flex-col md:flex-row justify-between items-center"},ie={class:"text-sm text-gray-700 dark:text-gray-400 mb-4 md:mb-0"},le={key:0,class:"flex justify-center"},ue=["innerHTML"],ye={__name:"Index",props:{productions:Object,filters:Object},setup(s){var v;const h=M(((v=s.filters)==null?void 0:v.search)||"");T(h,E.throttle(o=>{m.get(route("production.index"),{search:o},{preserveState:!0,replace:!0})},300));const j=(o,t)=>{y.fire({title:"Change Status?",text:`Update status to ${t}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"Yes, update"}).then(r=>{r.isConfirmed&&m.patch(route("production.status",o),{status:t},{preserveScroll:!0,onSuccess:()=>y.fire("Updated!","Status has been updated.","success")})})},L=o=>{y.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&m.delete(route("production.destroy",o),{onSuccess:()=>y.fire("Deleted!","Production has been deleted.","success")})})},w=o=>{switch(o){case"pending":return"bg-yellow-600";case"working":return"bg-blue-600";case"completed":return"bg-indigo-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},P=o=>"ডেলিভারী সম্পন্ন";return(o,t)=>(a(),d(b,null,[i(l(D),{title:"Production List"}),i(V,null,{header:u(()=>[...t[1]||(t[1]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Production List"),e("div",{class:"text-sm text-gray-500"},"Home > Operations > Production")],-1)])]),default:u(()=>[e("div",z,[e("div",A,[e("div",F,[e("div",I,[e("div",O,[t[3]||(t[3]=e("div",null,null,-1)),e("div",U,[i(l(g),{href:o.route("production.create"),class:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center transition"},{default:u(()=>[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Create Production ",-1)])]),_:1},8,["href"])])]),e("div",Y,[t[5]||(t[5]=e("div",{class:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400"},[e("span",null,"Show"),e("select",{class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm dark:bg-gray-800 dark:text-white"},[e("option",null,"10"),e("option",null,"25"),e("option",null,"50")]),e("span",null,"entries")],-1)),t[6]||(t[6]=e("div",{class:"flex flex-wrap gap-2 justify-center"},[e("button",{class:"px-3 py-1 bg-teal-500 text-white text-xs rounded hover:bg-teal-600"},"Copy"),e("button",{class:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600"},"Excel"),e("button",{class:"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600"},"PDF"),e("button",{class:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600"},"Print")],-1)),e("div",$,[t[4]||(t[4]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Search:",-1)),q(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>h.value=r),type:"text",class:"w-full md:w-48 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm dark:bg-gray-800 dark:text-white",placeholder:"ID or Customer..."},null,512),[[H,h.value]])])]),e("div",Q,[e("table",W,[t[12]||(t[12]=e("thead",{class:"bg-gray-200 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"ID"),e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Quotation No"),e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Customer"),e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Cost"),e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-300 dark:border-gray-600"},"Status"),e("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Action")])],-1)),e("tbody",G,[(a(!0),d(b,null,B(s.productions.data,(r,f)=>{var k,_,C;return a(),d("tr",{key:r.id,class:p([f%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50","hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-150"])},[e("td",J,n(r.production_no),1),e("td",K,[i(l(g),{href:o.route("quotations.show",(k=r.quotation)==null?void 0:k.id),class:"text-indigo-600 hover:underline"},{default:u(()=>{var c;return[x(n((c=r.quotation)==null?void 0:c.quotation_no),1)]}),_:2},1032,["href"])]),e("td",R,n((C=(_=r.quotation)==null?void 0:_.customer)==null?void 0:C.name),1),e("td",X,n(r.total_cost),1),e("td",Z,[r.status!=="delivered"?(a(),d("select",{key:0,value:r.status,onChange:c=>j(r.id,c.target.value),class:p(["text-xs rounded border-gray-300 py-1 pr-8 focus:ring-indigo-500 focus:border-indigo-500 text-white font-bold",w(r.status)])},[...t[7]||(t[7]=[e("option",{value:"pending",class:"bg-white text-gray-900"},"Pending",-1),e("option",{value:"working",class:"bg-white text-gray-900"},"Working",-1),e("option",{value:"completed",class:"bg-white text-gray-900"},"Completed",-1),e("option",{value:"cancelled",class:"bg-white text-gray-900"},"Cancelled",-1)])],42,ee)):(a(),d("span",{key:1,class:p(["px-2 py-1 text-xs font-bold text-white rounded",w("delivered")])},n(P("delivered")),3))]),e("td",te,[e("div",re,[t[10]||(t[10]=e("button",{class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-[#00334e] rounded-md hover:bg-[#00283d]"},[x(" Action "),e("svg",{class:"-mr-1 ml-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),e("div",oe,[e("div",se,[i(l(g),{href:o.route("production.show",r.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:u(()=>[...t[8]||(t[8]=[x("View",-1)])]),_:1},8,["href"]),i(l(g),{href:o.route("production.edit",r.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:u(()=>[...t[9]||(t[9]=[x("Edit",-1)])]),_:1},8,["href"]),e("button",{onClick:c=>L(r.id),class:"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-gray-100"},"Delete",8,ae)])])])])],2)}),128)),s.productions.data.length===0?(a(),d("tr",de,[...t[11]||(t[11]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"},"No productions found.",-1)])])):S("",!0)])])]),e("div",ne,[e("div",ie," Showing "+n((s.productions.current_page-1)*s.productions.per_page+1)+" to "+n(Math.min(s.productions.current_page*s.productions.per_page,s.productions.total))+" of "+n(s.productions.total)+" entries ",1),s.productions.links.length>3?(a(),d("div",le,[(a(!0),d(b,null,B(s.productions.links,(r,f)=>(a(),d(b,{key:f},[r.url===null?(a(),d("div",{key:0,class:"mr-1 px-3 py-1 text-sm leading-4 text-gray-400 border rounded bg-white",innerHTML:r.label},null,8,ue)):(a(),N(l(g),{key:1,class:p([{"bg-blue-600 text-white border-blue-600":r.active,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":!r.active},"mr-1 px-3 py-1 text-sm leading-4 border rounded shadow-sm"]),href:r.url,innerHTML:r.label},null,8,["class","href","innerHTML"]))],64))),128))])):S("",!0)])])])])])]),_:1})],64))}};export{ye as default};
