import{y as E,o as a,i as S,e as z,c as l,n as w,b as e,t as p,k as $,T as I,x as m,M as O,w as g,g as x,F as M,q as A,u as H,l as B,d as j,f as R,r as P,a as C,z as N,E as q}from"./app-i0VFsLrW.js";const F={class:"p-4"},U={class:"flex items-start"},Q={class:"flex-shrink-0"},G={class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},J=["d"],K={class:"ml-3 w-0 flex-1 pt-0.5"},W={class:"text-sm font-medium"},X={__name:"Toast",props:{flash:Object},setup(T){const k=T,d=m(!1),y=m(""),c=m(""),i=m(null);E(()=>k.flash,r=>{r&&(i.value&&clearTimeout(i.value),r.success?u(r.success,"success"):r.error?u(r.error,"error"):r.warning?u(r.warning,"warning"):r.info&&u(r.info,"info"))},{deep:!0,immediate:!0});const u=(r,f)=>{r&&(y.value=r,c.value=f,d.value=!0,i.value=setTimeout(()=>{d.value=!1},4e3))},L=()=>{d.value=!1},_={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"},h={success:"M5 13l4 4L19 7",error:"M6 18L18 6M6 6l12 12",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};return(r,f)=>(a(),S(I,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"-translate-y-2 opacity-0 sm:-translate-y-2 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:z(()=>[d.value?(a(),l("div",{key:0,class:w(["fixed top-20 right-5 z-50 max-w-sm w-full shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",_[c.value]])},[e("div",F,[e("div",U,[e("div",Q,[(a(),l("svg",G,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:h[c.value]},null,8,J)]))]),e("div",K,[e("p",W,p(y.value),1)]),e("div",{class:"ml-4 flex-shrink-0 flex"},[e("button",{onClick:L,class:"bg-transparent rounded-md inline-flex text-white hover:text-gray-200 focus:outline-none"},[...f[0]||(f[0]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])])])],2)):$("",!0)]),_:1}))}},Y={class:"flex h-screen w-full overflow-hidden bg-gray-100 dark:bg-gray-900"},Z={class:"flex items-center justify-between h-16 px-4 border-b border-[#00283d] bg-[#00283d]"},ee={class:"text-xl font-bold text-white tracking-wider"},te={class:"flex-1 px-2 py-4 space-y-2 overflow-y-auto"},se={key:0,class:"space-y-1"},oe=["onClick"],ne={class:"flex items-center"},ae={class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re=["d"],le={class:"space-y-1 pl-11 pr-2"},ie={key:1},ue={class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de=["d"],ce={class:"flex flex-col flex-1 overflow-hidden"},he={class:"h-16 bg-[#00334e] border-b border-[#00283d] flex items-center justify-between px-6 flex-shrink-0 shadow-md print:hidden"},me={class:"flex items-center"},ve={key:0,class:"text-xl font-bold text-white hidden sm:block"},pe={class:"flex items-center space-x-4"},fe={class:"relative"},ge={class:"font-medium"},xe={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},we={class:"px-4 py-2 border-b border-gray-100 dark:border-gray-600"},ke=["title"],ye={key:0,class:"bg-white dark:bg-gray-800 shadow relative z-10 print:hidden"},_e={class:"w-full mx-auto py-6 px-4 sm:px-6 lg:px-8"},be={class:"flex-1 overflow-x-hidden overflow-y-auto"},Me={class:"w-full"},ze={__name:"AuthenticatedLayout",setup(T){const k=q(),d=C(()=>k.props.auth.user),y=C(()=>k.props.auth.roles||[]),c=m(!1),i=m(!1),u=m(!1),L=C(()=>k.props.auth.permissions||[]),_=C(()=>{const n=y.value||[];L.value;const t=v=>n.includes(v),s=(...v)=>v.some(V=>n.includes(V)),o=[];o.push({name:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",route:"dashboard",roles:["super_admin","manager","marketing_officer","staff","customer"]}),s("super_admin","manager")&&o.push({name:"HR",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z",children:[{name:"Employees",route:"employees.index"},{name:"Customers",route:"customers.index"},{name:"Suppliers",route:"suppliers.index"}]});const b=[];return s("super_admin","manager")&&b.push({name:"Users List",route:"users.index"}),t("super_admin")&&b.push({name:"Roles List",route:"roles.index"}),b.length>0&&o.push({name:"Users",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z",children:b}),s("super_admin","manager")&&o.push({name:"Inventory",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",children:[{name:"Items",route:"items.index"},{name:"Categories",route:"categories.index"},{name:"Stock",route:"stocks.index"}]}),s("super_admin","manager")&&o.push({name:"Purchase",icon:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z",route:"purchases.index"}),s("super_admin","manager","marketing_officer")&&o.push({name:"Quotations",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",route:"quotations.index"}),s("super_admin","manager")&&o.push({name:"Production",icon:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z",route:"production.index"}),s("super_admin","manager","marketing_officer")&&o.push({name:"Sales",icon:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z",route:"sales.index"}),s("super_admin","manager","marketing_officer")&&o.push({name:"Payments",icon:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z",route:"payments.index"}),t("customer")||o.push({name:"Attendance",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",route:"attendance.index"}),s("super_admin","manager")&&o.push({name:"Accounts",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",route:"accounts.index"}),s("super_admin","manager")&&o.push({name:"Reports",icon:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",route:"reports.index"}),o.filter(v=>!v.roles||v.roles.length===0?!0:v.roles.some(V=>(y.value||[]).includes(V)))}),h=m(null),r=n=>{h.value===n?h.value=null:h.value=n},f=()=>{route().current()&&_.value.forEach(t=>{t.children&&t.children.some(o=>route().current(o.route))&&(h.value=t.name)})};O(()=>{f()});const D=()=>{N.post(route("logout"))};return(n,t)=>(a(),l(M,null,[e("div",Y,[g(e("div",{onClick:t[0]||(t[0]=s=>c.value=!1),class:"fixed inset-0 z-20 bg-black opacity-50 lg:hidden transition-opacity"},null,512),[[x,c.value]]),e("aside",{class:w(["bg-[#00334e] text-white transition-all duration-300 ease-in-out flex flex-col flex-shrink-0 print:hidden","fixed lg:static inset-y-0 left-0 z-30 h-full",c.value?"translate-x-0":"-translate-x-full lg:translate-x-0",i.value?"w-20":"w-64"])},[e("div",Z,[g(e("div",ee,"Batighor Computers",512),[[x,!i.value]]),e("button",{onClick:t[1]||(t[1]=s=>i.value=!i.value),class:"hidden lg:inline-flex text-gray-300 hover:text-white transition"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])]),e("nav",te,[(a(!0),l(M,null,A(_.value,s=>(a(),l(M,{key:s.name},[s.children?(a(),l("div",se,[e("div",{onClick:o=>r(s.name),class:"flex items-center justify-between px-4 py-2 cursor-pointer text-gray-300 hover:bg-[#004062] hover:text-white transition-colors rounded-lg group"},[e("div",ne,[(a(),l("svg",ae,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,re)])),g(e("span",{class:"ml-3 font-medium"},p(s.name),513),[[x,!i.value]])]),g(e("div",null,[(a(),l("svg",{class:w(["w-4 h-4 transition-transform duration-200",h.value===s.name?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],512),[[x,!i.value]])],8,oe),g(e("div",le,[(a(!0),l(M,null,A(s.children,o=>(a(),S(H(B),{key:o.name,href:n.route(o.route),class:w(["flex items-center px-4 py-2 text-sm text-gray-400 rounded-lg hover:text-white transition-colors block",n.route().current(o.route)?"text-white font-medium":""])},{default:z(()=>[e("span",null,p(o.name),1)]),_:2},1032,["href","class"]))),128))],512),[[x,h.value===s.name&&!i.value]])])):(a(),l("div",ie,[j(H(B),{href:n.route(s.route),class:w(["flex items-center px-4 py-2 text-gray-300 rounded-lg hover:bg-[#004062] hover:text-white transition-colors",n.route().current(s.route)?"bg-[#004d7a] text-white border-l-4 border-cyan-400":"",i.value?"justify-center":""])},{default:z(()=>[(a(),l("svg",ue,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,de)])),g(e("span",{class:"ml-3 font-medium"},p(s.name),513),[[x,!i.value]])]),_:2},1032,["href","class"])]))],64))),128))])],2),e("div",ce,[e("header",he,[e("div",me,[e("button",{onClick:t[2]||(t[2]=s=>c.value=!0),class:"lg:hidden text-gray-300 hover:text-white focus:outline-none mr-4"},[...t[6]||(t[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),n.$page.props.header?(a(),l("h1",ve,p(n.$page.props.header),1)):$("",!0)]),e("div",pe,[e("div",fe,[e("button",{onClick:t[3]||(t[3]=s=>u.value=!u.value),class:"flex items-center space-x-2 text-gray-200 hover:text-white focus:outline-none"},[e("span",ge,p(d.value.name),1),(a(),l("svg",{class:w(["w-5 h-5 transition-transform",u.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,-1)])],2))]),u.value?(a(),l("div",xe,[e("div",we,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Signed in as",-1)),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white truncate",title:d.value.email},p(d.value.name),9,ke)]),j(H(B),{href:n.route("profile.edit"),class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"},{default:z(()=>[...t[9]||(t[9]=[R(" Profile ",-1)])]),_:1},8,["href"]),e("button",{onClick:D,class:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition flex items-center"},[...t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),R(" Log Out ",-1)])])])):$("",!0)])])]),n.$slots.header?(a(),l("header",ye,[e("div",_e,[P(n.$slots,"header")])])):$("",!0),e("main",be,[e("div",Me,[P(n.$slots,"default")])])])]),j(X,{flash:n.$page.props.flash},null,8,["flash"])],64))}};export{ze as _};
